<!DOCTYPE html>
<html>

<head>
	<!-- Meta -->
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
	<meta name="generator" content="Jekyll">

	<title>Membuat Server Repository Local di Ubuntu</title>
  <meta name="description" content="Membuat Server Repository Local di Ubuntu">

	<!-- CSS & fonts -->
	<link rel="stylesheet" href="/abuisa.github.io/css/main.css">

	<!-- RSS -->
	<link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/png" href="img/cantik-icon.png">

</head>


<body>
	<div id="wrap">
	  	
	  	<!-- Navigation -->
	  	<nav id="nav-left">
	<div id="nav-list">
		<a href="/abuisa.github.io/">Home</a>

    <!-- Nav links -->
	  <!--
<a href="https://github.com/abuisa/web">Github</a> 
<a href="https://ikhwanelyas.blogspot.co.id/">Blog</a>
-->
 

	<!-- Nav pages -->
	  
	    
	  
	    
	  
	    
	      <a href="/abuisa.github.io/categories" title="All Post">All Post</a> 
	    
	  
	    
	  
	    
	      <a href="/abuisa.github.io/linkcolection" title="Links Colections">Links Colections</a> 
	    
	  
	    
	  
	    
	      <a href="/abuisa.github.io/me" title="About">About</a> 
	    
	  
	    
	  
	    
	  
	    
	  
    

	</div>
  
  <!-- Nav footer -->
	
	  <footer>
	
	<span>version 1.0.0</span>

</footer>
	

</nav>

    
    <!-- Icon menu -->
	  <a id="nav-menu-left">
	  	<div id="menu"></div>
	  </a>

      <!-- Header -->
      
        <header id="header" class="parent justify-spaceBetween">
  <div class="inner w100 relative">
    <span class="f-left">  
      <a href="/abuisa.github.io/">
        <h1>
          Ikhwan<span>Elyas</span>
        </h1>
      </a>
    </span>
    <span id="nav-links" class="absolute right bottom">
      <!-- Nav links -->
	    <!--
<a href="https://github.com/abuisa/web">Github</a> 
<a href="https://ikhwanelyas.blogspot.co.id/">Blog</a>
-->
 

      <!-- Nav pages -->
	    
	      
	    
	      
	    
	      
	        <a href="/abuisa.github.io/categories" title="All Post">All Post</a> 
	      
	    
	      
	    
	      
	        <a href="/abuisa.github.io/linkcolection" title="Links Colections">Links Colections</a> 
	      
	    
	      
	    
	      
	        <a href="/abuisa.github.io/me" title="About">About</a> 
	      
	    
	      
	    
	      
	    
	      
	    
      
    </span>
  </div>
</header>




      

    <!-- Main content -->
	  <div id="container">
		  
		<main>

			<article id="post-page">
	<h2>Membuat Server Repository Local di Ubuntu</h2>		
	<time datetime="2017-04-09T00:00:00+07:00" class="by-line">09 Apr 2017 | Linux</time>
	<div class="content">

		<p>Oleh : Onno W. Purbo*</p>

<p>Kalau di Windows, anda mencari software biasanya membutuhkan effort yang luar biasa, harus mencari di google, di Glodok, di toko CD dll. Berbeda dengan Windows, di Linux biasanya semua software / apps yang ada sudah terkumpul menjadi satu dalam sebuah server siap di instalasi.</p>

<p>Repository sering juga di singkat “repo” . Repository dalam bahasa yang sederhana adalah tempat menyimpan semua / kumpulan aplikasi. Di Debian dan Ubuntu kebetulan lumayan terstruktur dengan baik tempat penyimpanan Repository aplikasinya. Untuk menggunakan repo, kita dapat menggunakan perintah seperti, “apt update” untuk mengupdate daftar isi repo, “apt search namaaplikasi” untuk mencari aplikasi yang bernama namaaplikasi, “apt install aplikasi” untuk menginstalasi aplikasi yang kita butuhkan.</p>

<p>Repo Ubuntu biasanya di simpan di situs di Internet, seperti, id.archive.ubuntu.com, kambing.ui.ac.id dll. Besar repo untuk sebuah versi biasanya sekitar 120+ Gbyte untuk arsitektur 32bit &amp; 64bit.</p>

<p>Bagi sebuah kampus, sebuah kantor, atau mereka yang suka ngoprek maka lebih baik untuk bisa mengcopy seluruh repo ke harddisk lokal dan membuat server lokal untuk menampilkan repo tersebut. Pada kesempatan ini akan di jelaskan cara membuat server repo local di server Ubuntu 16.04.</p>

<h4 id="persiapan">Persiapan</h4>

<p>Untuk bisa membuat server repo local, anda membutuhkan semua mesin kecil dengan harddisk besar. Saya biasanya menggunakan mesin tua dengan processor atom di pasang harddisk 500Gbyte untuk bisa di operasikan 24 jam.</p>

<p>Mesin tersebut di instalasi OS Ubuntu 16.04. Biasanya saya membuat partisi root / hanya sekitar 20-30Gbyte saja, swap secukup-nya, sisanya sekitar 400Gbyte seluruhnya di set sebagai partisi untuk /var.</p>

<p>Setelah server Ubuntu 16.04 beroperasi. Aplikasi yang perlu diinstalasi untuk operasi repository local ini dapat dilakukan menggunakan perintah :</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre>	<span class="c"># Bash Command </span>
	<span class="nv">$ </span>apt install debmirror apache2<span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>Bagian yang paling tricky adalah (1) membuat mengcopy mirror keyring, dan (2) membuat folder yang dibutuhkan untuk menyimpan copy repository. Membuat mirror keyring dapat menggunakan perintah :</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre>	<span class="c"># Bash command</span>
	<span class="nv">$ </span>mkdir /var/data <span class="o">&amp;&amp;</span> mkdir /var/data/mirrorkeyring<span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>di lanjutkan menggunakan perintah gpg untuk membuat mirrorkeyring. Untuk jelasnya saya attach pada gambar dibawah.</p>

<p><img height="24" src="https://img.ucweb.com/o/mediana/s/we_media/upload_img/17040106533b4c5d265cb39eccfb8f05d4e35c0287x1058x66x4.png;,70,png;3,640x,0" width="400" /></p>

<p>Jika bermasalah, silahkan ulangi lagi perintah gpg paling bawah dari gambar di atas.</p>

<p>Saya biasanya membuat folder repository di /var/data/repository, untuk ubuntu 16.04 di /var/data/repository/repo-16.04, sementara mirrorkeyring di /var/data/mirrorkeyring.</p>

<h4 id="download-repository-dari-internet">Download Repository dari Internet</h4>

<p>Bagian yang paling menyedihkan adalah kita harus mendownload semua repository yang dibutuhkan dari Internet. Untuk sebuah versi Ubuntu maka dibutuhkan harddisk sebesar 120-150Gbyte. Bagi anda yang membutuhkan bisa copy repo yang ada di saya, dengan cara mengirim usb harddisk ke rumah saya dan diselipkan ongkos untuk kirim kembali pakai JNE.</p>

<p>Bagi anda yang mempunyai banyak bandwidth dapat menggunakan shell script berikut untuk mendownload repository ubuntu 16.04 dari Internet ke /var/data/repository/repo-16.04.</p>

<p><img height="57" src="https://img.ucweb.com/o/mediana/s/we_media/upload_img/1704010702348b97b7677e80d974f15068b44c7bb9x766x110x8.png;,70,png;3,640x,0" width="400" /></p>

<p>Script di atas akan mengambil repo ubuntu dari mesin kambing.ui.ac.id.</p>

<p>Saya biasanya membuat cron dari perintah untuk update repo di atas, misalnya setiap jam 11-12 malam setiap hari saat Internet tidak digunakan. Ini dapat dilakukan dengan menggunakan perintah crontab di Linux.</p>

<h4 id="menampilkan-repository-dari-web-server-lokal">Menampilkan Repository dari Web Server Lokal</h4>

<p>Langkah terakhir adalah menampilkan repository di web server lokal. Ini relatif sangat mudah, pada dasarkan hanya melakukan bind folder tempat menyimpan repo ke folder web. Misalnya, kita bisa membuat folder di web menggunakan perintah : 
$ mkdir /var/www/html/ubuntu
Selanjutnya untuk menampilkan folder repo, dapat di bind menggunakan perintah :</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre>	<span class="c"># Bash Command</span>
	<span class="nv">$ </span>mount --bind /var/data/repository/repo-16.04 /var/www/html/ubuntu<span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>Selesai sudah.</p>

<h4 id="menggunakan-repo-lokal">Menggunakan Repo Lokal</h4>

<p>Untuk menggunakan repo lokal tersebut, kita cukup mengedit file /etc/apt/sources.list yang pada dasarnya mengatur repo mana yang kita gunakan. Dan ubah isinya menjadi, misalnya, “deb http://192.168.0.100/ubuntu/ xenial main restricted universe multiverse” jika repo berada di mesin 192.168.0.100/ubuntu.</p>

<p>Kalau kebetulan repo tersebut ada di komputer itu sendiri, tentu kita tidak perlu menggunakan http, kita dapat menggunakan kalimat :
deb file:///var/data/repository/repo-16.04/ xenial main restricted universe multiverse
dengan asumsi, repo ada di folder /var/data/repository/repo-16.04.</p>

<p>Semoga bisa bermanfaat untuk menghemat bandwidth bagi mereka yang suka ngoprek Linux</p>

		
	</div>
</article>



	  </main>
		
		  <!-- Pagination links -->
      

	  </div>
	    
	    <!-- Footer -->
	    <footer><span>@2017 -  <a href="/abuisa.github.io/">IkhwanElyas</a> | <a href="https://github.com/abuisa/abuisa.github.io" target="_blank">github</a> </span> | <a href="https://ikhwanelyas.blogspot.co.id/" target="_blank">Blog</a>
</footer>


	    <!-- Script -->
      <script src="/abuisa.github.io/js/main.js"></script>	


	</div>
</body>
</html>
